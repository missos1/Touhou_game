# CÃ”NG NHáº¬N TÃ€I NGUYÃŠN Sá»¬ Dá»¤NG

## Ã‚M NHáº C
CÃ¡c báº£n nháº¡c sau thuá»™c báº£n quyá»n cá»§a **ZUN (Team Shanghai Alice)**, Ä‘Æ°á»£c sá»­ dá»¥ng trong game vá»›i má»¥c Ä‘Ã­ch **phi thÆ°Æ¡ng máº¡i**:
- A Dream that is more Scarlet than Red - - Touhou Koumakyou ~ The Embodiment of Scarlet Devil.
- The Centennial Festival for Magical Girls - Touhou Koumakyou ~ The Embodiment of Scarlet Devil.
- U.N. Owen Was Her? - Touhou Koumakyou ~ The Embodiment of Scarlet Devil.

**Trang web chÃ­nh thá»©c**: [web](https://www16.big.or.jp/~zun/)

## HÃŒNH áº¢NH/NHÃ‚N Váº¬T
- Thiáº¿t káº¿ nhÃ¢n váº­t dá»±a trÃªn Touhou Project (ZUN)  
- Sprite link: [link](https://www.spriters-resource.com/pc_computer/touhoukoumakyoutheembodimentofscarletdevil/)

---

#  ÄIá»€U KHOáº¢N Sá»¬ Dá»¤NG
- Báº¡n **khÃ´ng Ä‘Æ°á»£c phÃ©p bÃ¡n hay phÃ¢n phá»‘i láº¡i** sáº£n pháº©m nÃ y.  
- ÄÃ¢y lÃ  project bÃ i táº­p cá»§a sinh viÃªn, khÃ´ng Ä‘Æ°á»£c dÃ¹ng cho má»¥c Ä‘Ã­nh thÆ°Æ¡ng máº¡i.
- TuÃ¢n thá»§ [HÆ°á»›ng dáº«n cá»§a ZUN cho fan-work](https://en.touhouwiki.net/wiki/ZUN%27s_guidelines_for_fan_works). 

---

# Touhou Touhou Koumakyou ~ The Embodiment of Scarlet Devil (HMD edition)

Download link: [Táº£i táº¡i Ä‘Ã¢y](https://drive.google.com/drive/folders/1WGBy4llzN4hkpyrL9SvCHxuKzkXIuGa9?usp=sharing).

Vid: [vid](https://youtu.be/wKH3GsBdyhg).
---

# Giá»›i thiá»‡u game

ÄÃ¢y lÃ  báº£n fanmade Ä‘Æ°á»£c láº¥y cáº£m há»©ng tá»« Touhou 6: The Embodiment of Scarlet Devil.  
Game thuá»™c thá»ƒ loáº¡i **danmaku (bullet hell)** â€“ nÆ¡i báº¡n pháº£i nÃ© trÃ¡nh hÃ ng loáº¡t Ä‘áº¡n bay chi chÃ­t vÃ  tiÃªu diá»‡t káº» Ä‘á»‹ch vá»›i nhÃ¢n váº­t chÃ­nh.  
Má»¥c tiÃªu cá»§a báº¡n lÃ  sá»‘ng sÃ³t, tiÃªu diá»‡t boss, thu tháº­p item vÃ  Ä‘áº¡t Ä‘iá»ƒm sá»‘ cao nháº¥t cÃ³ thá»ƒ.  
Game cÃ³ cÃ¡c cÆ¡ cháº¿ nhÆ° **graze**, **spellcard**, **auto-collection**, **item tÄƒng sá»©c máº¡nh**... giÃºp ngÆ°á»i chÆ¡i cáº£m nháº­n Ä‘áº§y Ä‘á»§ khÃ´ng khÃ­ Touhou chÃ­nh hiá»‡u.

---

## Menu

Khi vÃ o game, báº¡n sáº½ tháº¥y giao diá»‡n menu Ä‘Æ¡n giáº£n nhÆ° Touhou 6 vá»›i cÃ¡c lá»±a chá»n:

### **MÃ n hÃ¬nh chÃ­nh**
![](SDLGame1/Preview/Options.png)

- **Start** â€“ Báº¯t Ä‘áº§u game
- **Option** â€“ TÃ¹y chá»‰nh Ã¢m thanh
- **Quit** â€“ ThoÃ¡t game

---

### **TÃ¹y chá»‰nh Ã¢m lÆ°á»£ng**
![](SDLGame1/Preview/change_vol.png)

- **BGM** â€“ Nháº¡c ná»n
- **Sound** â€“ Ã‚m thanh hiá»‡u á»©ng

Báº¡n cÃ³ thá»ƒ Ä‘iá»u chá»‰nh Ã¢m lÆ°á»£ng tá»«ng má»¥c báº±ng phÃ­m trÃ¡i/pháº£i.

---

### **MÃ n hÃ¬nh chiáº¿n tháº¯ng**
![](SDLGame1/Preview/you_won.png)

Sau khi tháº¯ng boss cuá»‘i, báº¡n sáº½ tháº¥y mÃ n hÃ¬nh thá»‘ng kÃª:
- **HP Bonus**
- **Graze Bonus**

ToÃ n bá»™ sáº½ cá»™ng vÃ o score cá»§a báº¡n.

---

# Di chuyá»ƒn

- **WASD**: LÃªn / TrÃ¡i / Pháº£i / Xuá»‘ng  
- **Space**: Báº¯n  
- **Shift**: Focus (Táº­p trung, di chuyá»ƒn cháº­m, hiá»‡n hitbox)

### So sÃ¡nh giá»¯a thÆ°á»ng vÃ  Focus:
Khi báº¯t Ä‘áº§u game, nhÃ¢n váº­t cá»§a báº¡n sáº½ cÃ³:

- 1.00 Power â€“ má»©c sá»©c máº¡nh khá»Ÿi Ä‘iá»ƒm Ä‘á»ƒ báº¡n cÃ³ thá»ƒ táº¥n cÃ´ng cÆ¡ báº£n.

- 4 HP tá»•ng cá»™ng â€“ bao gá»“m:

   * 1 HP hiá»‡n táº¡i (Ä‘ang dÃ¹ng).
   * 3 HP lÆ°u trá»¯, sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng dáº§n khi báº¡n máº¥t máº¡ng.

Há»‡ thá»‘ng nÃ y khuyáº¿n khÃ­ch ngÆ°á»i chÆ¡i giá»¯ máº¡ng cÃ ng lÃ¢u cÃ ng tá»‘t Ä‘á»ƒ Ä‘áº¡t Ä‘iá»ƒm sá»‘ cao, Ä‘á»“ng thá»i táº¡o cÆ¡ há»™i há»“i phá»¥c thÃ´ng qua item Heal vÃ  cÃ¡c pháº§n thÆ°á»Ÿng khÃ¡c.
Trong mode focus, nhÃ¢n váº­t sáº½ hiá»ƒn thá»‹ hitbox  vÃ  di chuyá»ƒn cháº­m rÃ£i Ä‘á»ƒ dá»… dÃ ng nÃ© hÆ¡n.

| Normal | Focus |
|--------|-------|
| ![](SDLGame1/Preview/player_normal.png) | ![](SDLGame1/Preview/player_focus.png) |

---

# Thanh thÃ´ng sá»‘

Hiá»ƒn thá»‹ hÃ¬nh áº£nh nhÃ¢n váº­t (HP, power v.v):  
| ![](SDLGame1/Preview/power_n_graze_meter.png) | Sá»©c máº¡nh vÃ  graze |
|---|---|
| ![](SDLGame1/Preview/hp_left.png) | MÃ¡u cÃ²n láº¡i |
| ![](SDLGame1/Preview/Score.png) | Ká»‰ lá»¥c vÃ  hiá»‡n táº¡i |


---

# Má»™t sá»‘ cÆ¡ cháº¿ game

### **Graze**
Khi Ä‘áº¡n bay sÃ¡t ngÆ°á»i chÆ¡i (nhÆ°ng khÃ´ng trÃºng), báº¡n sáº½ Ä‘Æ°á»£c tÄƒng graze.  
Graze sá»… lÃ m tÄƒng giÃ¡ trá»‹ cá»§a Item báº¡n nháº­n Ä‘Æ°á»£c.
CÃ ng nhiá»u graze thÃ¬ giÃ¡ trá»‹ cÃ ng tÄƒng;

### **Hitbox nhá» nÃªn Ä‘á»«ng sá»£ Ä‘áº¡n**

Táº¥t cáº£ viÃªn Ä‘áº¡n Ä‘á»u cÃ³ hitbox nhá» hÆ¡n nhiá»u so vá»›i sprite, nÃªn báº¡n cÃ³ thá»ƒ nÃ© cá»±c sÃ¡t náº¿u tinh máº¯t vÃ  bÃ¬nh tÄ©nh.  
![](SDLGame1/Preview/hitboxdes.png)

---

### **CÃ¡c item**

| Item | MÃ´ táº£ |
|------|-------|
| ![](SDLGame1/Preview/fullpower.png) | **Full Power** â€“ TÄƒng sá»©c máº¡nh lÃªn tá»‘i Ä‘a |
| ![](SDLGame1/Preview/heal.png) | **Heal** â€“ Há»“i mÃ¡u |
| ![](SDLGame1/Preview/item.png) | **Point** â€“ TÄƒng Ä‘iá»ƒm |
| ![](SDLGame1/Preview/power.png) | **Power** â€“ TÄƒng sá»©c máº¡nh |
| ![](SDLGame1/Preview/star.png) | **Star** - Äiá»ƒm xÃ³a Ä‘áº¡n |

---

### **Auto Collection**

PhÃ­a trÃªn mÃ n hÃ¬nh chÆ¡i cÃ³ má»™t vÃ¹ng. Khi nhÃ¢n váº­t bay vÃ o Ä‘Ã³, cÃ¡c item sáº½ tá»± Ä‘á»™ng bá»‹ hÃºt vá».  
![](SDLGame1/Preview/item_collect.png)

---

### **Boss**

#### Trong tráº­n Ä‘áº¥u boss, báº¡n sáº½ tháº¥y má»™t thanh HUD hiá»ƒn thá»‹ á»Ÿ phÃ­a trÃªn mÃ n hÃ¬nh, bao gá»“m (tá»« trÃ¡i sang pháº£i):
- ğŸ·ï¸ TÃªn boss
- âœ´ï¸ Sá»‘ lÆ°á»£ng Spellcard cÃ²n láº¡i
- â¤ï¸ Thanh mÃ¡u cá»§a boss
- â±ï¸ Thá»i gian cÃ²n láº¡i 
![](SDLGame1/Preview/Boss_hud.png)

#### Khi báº¡n phÃ¡ xong má»™t thanh mÃ¡u cá»§a boss:
- Má»i Ä‘áº¡n trÃªn mÃ n hÃ¬nh sáº½ bá»‹ xÃ³a.
- Báº¡n sáº½ nháº­n Ä‘Æ°á»£c má»™t **Star Item** Ä‘á»ƒ tÄƒng Ä‘iá»ƒm cho má»—i viÃªn Ä‘áº¡n Ä‘Æ°á»£c xÃ³a.  
![](SDLGame1/Preview/stardes.png)

#### Spellcard

+ Boss sáº½ sá»­ dá»¥ng **Spellcard** â€“ nhá»¯ng Ä‘Ã²n táº¥n cÃ´ng Ä‘áº·c biá»‡t cÃ³ giá»›i háº¡n thá»i gian.  
+ Náº¿u báº¡n tiÃªu diá»‡t boss **trong thá»i gian quy Ä‘á»‹nh**, báº¡n nháº­n thÃªm **Ä‘iá»ƒm thÆ°á»Ÿng lá»›n**.  
+ Náº¿u háº¿t giá» mÃ  chÆ°a tiÃªu diá»‡t xong thÃ¬ chá»‰ chuyá»ƒn pha, khÃ´ng cÃ³ bonus.
![](SDLGame1/Preview/spellcard_showcase.png)

---

## ğŸ“ Tá»‡p mÃ£ nguá»“n

#### `1. Game.cpp`
- **Má»¥c Ä‘Ã­ch:** Quáº£n lÃ½ vÃ²ng láº·p chÃ­nh cá»§a trÃ² chÆ¡i.
- **Chá»©c nÄƒng chÃ­nh:**
  - Khá»Ÿi táº¡o SDL, texture vÃ  Ã¢m thanh.
  - Quáº£n lÃ½ cÃ¡c Ä‘á»‘i tÆ°á»£ng nhÆ° ngÆ°á»i chÆ¡i, káº» Ä‘á»‹ch, Ä‘áº¡n vÃ  váº­t pháº©m.
  - Xá»­ lÃ½ chuyá»ƒn tráº¡ng thÃ¡i: `LOADING`, `MENU`, `PLAYING`, `PAUSE`, `EXIT`.

#### `2. Player.cpp`
- **Má»¥c Ä‘Ã­ch:** Triá»ƒn khai hÃ nh vi cá»§a nhÃ¢n váº­t ngÆ°á»i chÆ¡i.
- **Chá»©c nÄƒng chÃ­nh:**
  - Xá»­ lÃ½ Ä‘áº§u vÃ o (di chuyá»ƒn, báº¯n).
  - Cáº­p nháº­t vá»‹ trÃ­, hoáº¡t áº£nh, vÃ  vÃ¹ng va cháº¡m.
  - Quáº£n lÃ½ mÃ¡u, cáº¥p sá»©c máº¡nh, vÃ  Ä‘áº¿m sá»‘ láº§n trÃ¡nh Ä‘áº¡n.

#### `3. Enemy.cpp`
- **Má»¥c Ä‘Ã­ch:** Äá»‹nh nghÄ©a hÃ nh vi vÃ  hiá»ƒn thá»‹ cá»§a káº» Ä‘á»‹ch.
- **Chá»©c nÄƒng chÃ­nh:**
  - Di chuyá»ƒn theo máº«u Ä‘á»‹nh sáºµn.
  - Báº¯n theo cÃ¡c kiá»ƒu: ngáº«u nhiÃªn, nháº¯m, vÃ²ng trÃ²n.
  - Quáº£n lÃ½ mÃ¡u vÃ  loáº¡i káº» Ä‘á»‹ch.

#### `4. Boss.cpp`
- **Má»¥c Ä‘Ã­ch:** Quáº£n lÃ½ hÃ nh vi vÃ  giai Ä‘oáº¡n cá»§a trÃ¹m.
- **Chá»©c nÄƒng chÃ­nh:**
  - Di chuyá»ƒn, hoáº¡t áº£nh vÃ  máº«u báº¯n.
  - Quáº£n lÃ½ giai Ä‘oáº¡n thÆ°á»ng vÃ  spellcard.
  - Cáº­p nháº­t mÃ¡u vÃ  chuyá»ƒn giai Ä‘oáº¡n.

#### `5. EnemyLayout.cpp`
- **Má»¥c Ä‘Ã­ch:** Sinh vÃ  bá»‘ trÃ­ káº» Ä‘á»‹ch theo tiáº¿n trÃ¬nh mÃ n chÆ¡i.
- **Chá»©c nÄƒng chÃ­nh:**
  - Sinh Ä‘á»‹ch táº¡i thá»i Ä‘iá»ƒm vÃ  vá»‹ trÃ­ cá»¥ thá»ƒ.
  - Xá»­ lÃ½ báº¯n vÃ  tÆ°Æ¡ng tÃ¡c vá»›i ngÆ°á»i chÆ¡i.
  - Chuyá»ƒn sang tráº­n Ä‘áº¥u trÃ¹m.

#### `6. Bullets.cpp`
- **Má»¥c Ä‘Ã­ch:** Quáº£n lÃ½ hÃ nh vi cá»§a Ä‘áº¡n.
- **Chá»©c nÄƒng chÃ­nh:**
  - Cáº­p nháº­t vá»‹ trÃ­ vÃ  kiá»ƒm tra va cháº¡m.
  - Quáº£n lÃ½ tá»‘c Ä‘á»™, hÆ°á»›ng, loáº¡i Ä‘áº¡n.

#### `7. Items.cpp`
- **Má»¥c Ä‘Ã­ch:** Xá»­ lÃ½ cÃ¡c váº­t pháº©m cÃ³ thá»ƒ thu tháº­p.
- **Chá»©c nÄƒng chÃ­nh:**
  - Cáº­p nháº­t vá»‹ trÃ­ vÃ  va cháº¡m vá»›i ngÆ°á»i chÆ¡i.
  - Quáº£n lÃ½ loáº¡i vÃ  hiá»‡u á»©ng váº­t pháº©m.

#### `8. Collision.cpp`
- **Má»¥c Ä‘Ã­ch:** Kiá»ƒm tra va cháº¡m giá»¯a cÃ¡c Ä‘á»‘i tÆ°á»£ng.
- **Chá»©c nÄƒng chÃ­nh:**
  - Xá»­ lÃ½ va cháº¡m giá»¯a Ä‘áº¡n, káº» Ä‘á»‹ch, ngÆ°á»i chÆ¡i, váº­t pháº©m.
  - Cáº­p nháº­t tráº¡ng thÃ¡i dá»±a trÃªn káº¿t quáº£ va cháº¡m.

#### `9. Menu.cpp`
- **Má»¥c Ä‘Ã­ch:** Triá»ƒn khai menu chÃ­nh vÃ  giao diá»‡n ngÆ°á»i dÃ¹ng.
- **Chá»©c nÄƒng chÃ­nh:**
  - Äiá»u hÆ°á»›ng menu, nháº­n input.
  - Hiá»ƒn thá»‹ menu vÃ  chuyá»ƒn tráº¡ng thÃ¡i trÃ² chÆ¡i.

#### `10. Sidebar.cpp`
- **Má»¥c Ä‘Ã­ch:** Hiá»ƒn thá»‹ thÃ´ng tin ngÆ°á»i chÆ¡i khi Ä‘ang chÆ¡i.
- **Chá»©c nÄƒng chÃ­nh:**
  - Hiá»ƒn thá»‹ mÃ¡u, Ä‘iá»ƒm, sá»©c máº¡nh.
  - Cáº­p nháº­t Ä‘á»™ng theo tráº¡ng thÃ¡i trÃ² chÆ¡i.

#### `11. ScoreManager.cpp`
- **Má»¥c Ä‘Ã­ch:** Quáº£n lÃ½ Ä‘iá»ƒm sá»‘ vÃ  Ä‘iá»ƒm cao.
- **Chá»©c nÄƒng chÃ­nh:**
  - Cáº­p nháº­t Ä‘iá»ƒm hiá»‡n táº¡i.
  - Äá»c/ghi Ä‘iá»ƒm cao tá»« tá»‡p.

#### `12. TextureManager.cpp`
- **Má»¥c Ä‘Ã­ch:** Táº£i vÃ  hiá»ƒn thá»‹ texture.
- **Chá»©c nÄƒng chÃ­nh:**
  - Táº£i tá»« tá»‡p, dá»n dáº¹p.
  - Cung cáº¥p hÃ m há»— trá»£ Ä‘á»ƒ hiá»ƒn thá»‹ texture lÃªn mÃ n hÃ¬nh.

---

### ğŸ“ Tá»‡p tiÃªu Ä‘á» (Header Files)

| Tá»‡p               | Má»¥c Ä‘Ã­ch                                                                 |
|--------------------|-------------------------------------------------------------------------|
| `Game.hpp`         | Khai bÃ¡o lá»›p Game, Ä‘á»‹nh nghÄ©a tráº¡ng thÃ¡i vÃ  logic chÃ­nh.              |
| `Player.hpp`       | Khai bÃ¡o lá»›p Player vÃ  cÃ¡c phÆ°Æ¡ng thá»©c cá»§a nÃ³.                        |
| `Enemy.hpp`        | Khai bÃ¡o lá»›p Enemy vÃ  cÃ¡c thuá»™c tÃ­nh/phÆ°Æ¡ng thá»©c.                     |
| `Boss.hpp`         | Khai bÃ¡o lá»›p Boss vÃ  Ä‘iá»u khiá»ƒn giai Ä‘oáº¡n.                            |
| `EnemyLayout.hpp`  | Khai bÃ¡o lá»›p quáº£n lÃ½ bá»‘ trÃ­ káº» Ä‘á»‹ch.                                   |
| `Bullets.hpp`      | Khai bÃ¡o lá»›p Bullet.                                                   |
| `Items.hpp`        | Khai bÃ¡o lá»›p Item.                                                     |
| `Collision.hpp`    | Khai bÃ¡o lá»›p CollisionCheck cho viá»‡c kiá»ƒm tra va cháº¡m.                |
| `Menu.hpp`         | Khai bÃ¡o lá»›p Menu cho giao diá»‡n chÃ­nh.                                |
| `Sidebar.hpp`      | Khai bÃ¡o lá»›p Sidebar hiá»ƒn thá»‹ thÃ´ng tin ngÆ°á»i chÆ¡i.                   |
| `ScoreManager.hpp` | Khai bÃ¡o lá»›p quáº£n lÃ½ Ä‘iá»ƒm sá»‘ vÃ  Ä‘iá»ƒm cao.                             |
| `TextureManager.hpp`| Khai bÃ¡o lá»›p TextureManager xá»­ lÃ½ viá»‡c táº£i/hiá»ƒn thá»‹ texture.         |

---


